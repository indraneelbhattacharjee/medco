<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opioid Distribution in Los Angeles</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.15.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
</head>

<body>
    <div class="dashboard">
        <h1>Opioid Distribution in Los Angeles</h1>
        <div class="controls">
            <label for="chart-select">Chart Type:</label>
            <select id="chart-select" onchange="updateChart()">
                <option value="scatter">Scatter Chart</option>
                <option value="bar">Bar Chart</option>
                <option value="pie">Pie Chart</option>
                <option value="scatterTrend">Scatter Trend Chart</option>
                <option value="stackedBar">Stacked Bar</option>
                <option value="histogram">Histogram</option>
            </select>
            
    <label for="filter-select">Filter by Reporter Family:</label>
    <select id="filter-select" onchange="updateChart()">
        <option value="">All</option>
        <option value="AmerisourceBergen Drug">AmerisourceBergen Drug</option>
        <option value="McKesson Corporation">McKesson Corporation</option>
        <option value="Cardinal Health">Cardinal Health</option>
        <option value="CVS">CVS</option>
        <option value="Kaiser Permanente">Kaiser Permanente</option>
        <option value="H. D. Smith">H. D. Smith</option>
        <option value="Walgreen Co">Walgreen Co</option>
        <option value="Thrifty Payless Inc">Thrifty Payless Inc</option>
        <option value="Valley Wholesale Drug Co">Valley Wholesale Drug Co</option>
        <option value="Wal-Mart">Wal-Mart</option>
        <option value="CVS Pharmacy Inc">CVS Pharmacy Inc</option>
        <option value="Smith Drug Company">Smith Drug Company</option>
        <option value="Kroger">Kroger</option>
        <option value="Rite Aid">Rite Aid</option>
        <option value="H.E. Butt">H.E. Butt</option>
        <option value="Dierbergs Markets">Dierbergs Markets</option>
        <option value="Meijer">Meijer</option>
        <option value="Albertsons">Albertsons</option>
        <option value="Sam's East">Sam's East</option>
        <option value="United Supermarkets">United Supermarkets</option>
        <option value="Safeway">Safeway</option>
        <option value="Publix">Publix</option>
        <option value="CVS Pharmacy LLC">CVS Pharmacy LLC</option>
        <option value="Fred's Pharmacy">Fred's Pharmacy</option>
        <option value="Giant Eagle">Giant Eagle</option>
        <option value="Cameron Drugs">Cameron Drugs</option>
        <option value="Costco">Costco</option>
        <option value="Whitesell & Co.">Whitesell & Co.</option>
        <option value="Bergdoll Drug">Bergdoll Drug</option>
        <option value="GENCO I">GENCO I</option>
    </select>
    
    <button id="view-writeup" onclick="showWriteUp()">View Write-Up</button>
       
    <h1 id= "question" ></h1> 
     </div>
        <div class="chart-container" id="chart"></div>
        
    </div>
        <div id="writeup-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeWriteUp()">&times;</span>
            <h2>Project Write-Up</h2>
            <div id="writeup-content">
                <p><strong>Project Overview:</strong> This project, developed by Indraneel Bhattacharjee and Legna Saca, presents an interactive visualization of opioid distribution data in Los Angeles County.</p>
                <p><strong>Design Rationale:</strong></p>
                <ul>
                    <li><strong>Scatter Plot:</strong> This visualization shows the relationship between total dosage units and total MME.</li>
                    <li><strong>Bar Chart:</strong> This chart provides a clear comparison of the total dosage units distributed by each reporter family.</li>
                    <li><strong>Pie Chart:</strong> This chart illustrates the proportional distribution of total dosage units among reporter families.</li>
                    <li><strong>Line Chart:</strong></li>
                </ul>
                <p><strong>Development Process:</strong></p>
                <ul>
                    <li><strong>Team Contributions:</strong> Indraneel Bhattacharjee and Legna Saca collaborated on all aspects of the project.</li>
                    <li><strong>Time Spent:</strong> Approximately 20 hours were spent on the project.</li>
                    <li><strong>Development Highlights:</strong> Implementing the dropdown for chart selection and tooltips was crucial.</li>
                    <li><strong>Technical Challenges:</strong> Preprocessing the data to fit Vega-Lite's requirements was essential.</li>
                </ul>
                <p><strong>Features and Enhancements:</strong></p>
                <ul>
                    <li><strong>Interactive Chart Selector:</strong> Allows users to choose between scatter, bar, and pie charts.</li>
                    <li><strong>Responsive Design:</strong> The charts resize dynamically to fit the screen.</li>
                    <li><strong>Detailed Tooltips:</strong> Hovering over data points reveals additional information.</li>
                    <li><strong>Modern Aesthetics:</strong> The application features a dark theme with smooth transitions.</li>
                    <li><strong>Embedded Data:</strong> The dataset is directly embedded into the JavaScript file.</li>
                </ul>
                <p><strong>Conclusion:</strong> The project successfully meets the requirements for interactive visualization.</p>
                <p><strong>Future Improvements:</strong></p>
                <ul>
                    <li><strong>Dynamic Filtering:</strong> Enabling users to filter data based on specific criteria or ranges.</li>
                    <li><strong>Multi-View Coordination:</strong> Implementing coordinated views where interactions in one chart affect the display in another.</li>
                    <li><strong>Animated Transitions:</strong> Adding smooth transitions between different chart types.</li>
                </ul>
            
        </div>
       </div>
    </div>
    
    <div>
        <h2 id= "chart-description"></h2>

    </div>
    <script src="script.js"></script>
</body>
</html>
